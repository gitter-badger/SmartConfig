<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>SmartConfig by x-t3ch</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/lts-default.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/lts-custom.css" media="screen">
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-76144256-1', 'auto');
  ga('send', 'pageview');

</script>
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">SmartConfig</h1>
      <h2 class="project-tagline">Because creating configurations should be easy!</h2>
      <a href="https://github.com/he-dev/SmartConfig" class="btn">View on GitHub</a>
      <!--<a href="https://github.com/he-dev/SmartConfig/zipball/master" class="btn">Download .zip</a>-->
      <!--<a href="https://github.com/he-dev/SmartConfig/tarball/master" class="btn">Download .tar.gz</a>-->
    </section>

    <section class="main-content">
      
      <div class="lts">
    <h1 class="h1">About</h1>
    <p class="p"><span class="app">SmartConfig</span> is a configuration framework that makes writing configurations easier then ever.</p>
    <p class="p">I guess you're asking why you should care about another configuration framework and I'll tell you why. Because you want to setup and use application settings within few minutes instead of spending another few days on writing another configuration system for the next project.</p>
    <p class="p"><span class="app">SmartConfig</span> it's all about simplicity and convinience. I dare to claim that it's the easiest configurtion framework out there. With only one tool you are able to use multiple configuration sources like databases, app.config, xml, registry (more are can be added). Your configuration is strongly typed and doesn't contain any magic strings. You work with real classes and properties.</p>
    <p class="p">Keep reading and see for yourself.</p>
    <h1 class="h1">How does it work?</h1>
    <p class="p">Briefly, with <span class="app">SmartConfig</span> you create a static class with static properties and/or sub-classes that will hold the settings when they are loaded. Its structure is used to build setting names. There is no need to use any hardcoded strings or create enums etc. to get any values. <span class="app">SmartConfig</span> completely eliminates all magic strings.</p>
    <p class="p"><span class="app">SmartConfig</span> is strongly typed and also able to validate your settings so that you always know whether you start with a working configuraiton. If your configuration contains invalid values you'll be notified right away because it reads all your settings at once.</p>
    <p class="p">It supports many popular types and provides an interface to add your own types if you need to. By default <span class="app">SmartConfig</span> looks for your settings by name however criteria like environment or version (Semantic Version) can be easily added. With SmartConfig you don't have to instantiate anything. All settings are loaded at once and cached in your config definition so there is no overhead accessing them later.</p>
    <h1 class="h1">Where can I get it?</h1>
    <p class="p">You'll find all packages on NuGet:</p>
    <ul>
        <li>Core packageId: <code class="ic">SmartConfig</code> (contains data stores: <code class="ic">AppConfig</code>, <code class="ic">Xml</code>, <code class="ic">Registry</code>)</li>
        <li>SqlServer packageId: <code class="ic">SmartConfig.DataStores.SqlServer</code></li>
        <li>SQLite packageId: <code class="ic">SmartConfig.DataStores.SQLite</code></li>
    </ul>
        <pre><code class="code">Install-Package packageId        </code></pre>
    <h1 class="h1">Features</h1>
    <ul>
        <li>Strongly typed values
            <ul>
                <li>	Numerics
                <ul>
                    <li>Integral types: <code class="ic">sbyte</code>, <code class="ic">byte</code>, <code class="ic">char</code>, <code class="ic">short</code>, <code class="ic">ushort</code>, <code class="ic">int</code>, <code class="ic">uint</code>, <code class="ic">long</code>, <code class="ic">ulong</code></li>
                    <li>Floating-point types: <code class="ic">float</code>, <code class="ic">double</code></li>
                    <li>Decimal: <code class="ic">decimal</code></li>
                </ul>
                </li>
            </ul>
        </li>
        <li>Boolean</li>
        <li>Enum</li>
        <li>JSON (via <code class="ic">ObjectConverterAttribute</code>)</li>
        <li>XML <code class="ic">(XDocument</code>, <code class="ic">XElement</code>)</li>
        <li>Colors (<code class="ic">System.Drawing.Color</code> as Name (Red), HEX (#FF00AA), Decimal (122, 134,90)</li>
        <li><code class="ic">DateTime</code></li>
        <li><code class="ic">string</code></li>
        <li>Read/Write value validation:
            <ul>
                <li><code class="ic">OptionalAttribute</code></li>
                <li><code class="ic">RegularExpressionAttribute</code></li>
                <li><code class="ic">DateTimeFormatAttribute</code></li>
                <li><code class="ic">IgnoreAttribute</code></li>
            </ul>
        </li>
        <li>Multiple data stores
            <ul>
                <li><code class="ic">AppConfigStore</code> for <code class="ic">app.config</code></li>
                <li><code class="ic">SqlServerStore</code> for database</li>
                <li><code class="ic">XmlFileStore</code> for own XML format</li>
                <li><code class="ic">RegistryStore</code> for Windows Registry (supports: <code class="ic">REG_BINARY</code>, <code class="ic">REG_DWORD</code>, <code class="ic">REG_SZ</code>)</li>
                <li><code class="ic">IniFileStore</code> for ini files (requires Martini package)</li>
                <li><code class="ic">SQLiteStore</code> for serverless settings</li>
            </ul>
        </li>
        <li>Extendable:
            <ul>
                <li>You can specify additional criteria for finding settings.</li>
                <li>You can write you own data source.</li>
                <li>You can add you own data types..</li>
                <li>Multiple configurations in a single storage.</li>
            </ul>
        </li>
    </ul>
    <h1 class="h1">Examples and Tutorials</h1>
    <h2 class="h2">Using <span class="b">AppConfigStore</span></h2>
    <p class="p">The <code class="ic">AppConfigStore</code> supports two <code class="ic">app.config</code> sections: <code class="ic">connectionString</code> and <code class="ic">appSettings</code>. Let's be honest, who needs the other ones?</p>
    <p class="p">Example <code class="ic">app.config</code></p>
        <pre><code class="code">&lt;connectionStrings&gt;
    &lt;add name=&quot;Foo&quot; connectionString=&quot;Data Source=...&quot; /&gt;
&lt;/connectionStrings&gt;
&lt;appSettings&gt;
    &lt;add key=&quot;Bar&quot; value=&quot;Baz&quot; /&gt;
&lt;/appSettings&gt;        </code></pre>
    <p class="p">To read the values you create this configuration:</p>
        <pre><code class="code">[SmartConfig]
static class ExampleAppConfig
{
    public static class ConnectionStrings
    {
        public static string ExampleDb { get; set}
    } 
    public static class AppSettings
    {   
        public static string SettingsTableName { get; set}
        public static int PrimeNumber { get; set; }
    }
}        </code></pre>
    <p class="p">Here we create a static class and mark it with the <code class="ic">SmartConfigAttribute</code> so that the setting loader can find it. Inside the config class we define two nested static classes that will represent the connectionStrings and the appSettings sections. The names of those two nested classes are important because they build the path to the actual settings.</p>
    <p class="p">That's all. SmartConfig will take care of checking if each setting is available in the <code class="ic">app.config</code> and will complain if it doesn't find one. Thus SmartConfig minimizes this risk by loading and validating all settings at once. This way you can detect invalid settings before you start your application.</p>
    <p class="p">We didn't mark any fields as optional so both settings are required and cannot be null/empty.</p>
    <p class="p">OK, let's load them now:</p>
    <p class="p"><code class="ic">Program.cs</code></p>
        <pre><code class="code">Configuration
    .Load(typeof(ExampleAppConfig))
    .From(new AppConfigStore());        </code></pre>
    <p class="p">Done! You are ready to use the values now by simply going to the setting via the setting class you've just defined:</p>
        <pre><code class="code">Console.WriteLine(ExampleAppConfig.PrimeNumber); // outputs: 7        </code></pre>
    <h2 class="h2">Using <span class="b">SqlServerStore</span></h2>
    <p class="p"><span class="i">This store is no longer a part of the core package and needs to be installed separately.</span></p>
    <p class="p">First we need a table to hold our settings:</p>
        <pre><code class="code">CREATE TABLE [dbo].[Setting]
(
   [Name] NVARCHAR(255) NOT NULL, 
   [Value] NVARCHAR(MAX) NULL, 
   PRIMARY KEY ([Name])
)        </code></pre>
    <p class="p">In our table we can virtualy keep anything we want. Here we just have a welcome message, a monitor size and a list of prime numbers which is in this case optional.</p>
    <table class="table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Value</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Greeting</td>
                <td>'Hallo SmartConfig!'</td>
            </tr>
            <tr>
                <td>MonitorSize.Width</td>
                <td>1024</td>
            </tr>
            <tr>
                <td>MonitorSize.Height</td>
                <td>768</td>
            </tr>
        </tbody>
    </table>
    <p class="p">To get the values we create this configuration:</p>
        <pre><code class="code">[SmartConfig]
static class ExampleDbConfig
{
    public static string Greeting { get; set; }
    [Optional]
    [ObjectConverter(typeof(JsonConverter)]
    public static List&lt;int&gt; Primes { get; set; } = new List&lt;int&gt; { 3, 5, 7 };
    public static class MonitorSize
    {
        public static int Width { get; set; }
        public static int Height { get; set; }
    }
}        </code></pre>
    <p class="p">The setting table must contain at least the <span class="b">Greeting</span> and <span class="b">MonitorSize</span> settings but the primes are marked as <code class="ic">Optional</code> and have a default value already. SmartConfig won't complain in this case.</p>
    <p class="p">It is important that we define the right type of the setting so that SmartConfig can already verify its value and type and we don't have to do any convertions later ourselfs.</p>
    <p class="p">If we wanted to define other primes we could add such a setting to the database and SmartConfig would take its value then. We just need to use a json format in this case because it handles such types as lists, arrays and other more complex types. This is why we added the ObjectConverterAttribute to the field.</p>
    <table class="table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Value</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Primes</td>
                <td>'[3, 5, 7, 11]'</td>
            </tr>
        </tbody>
    </table>
    <p class="p">SmartConfig uses the sturcture of the config class and its properties to generate keys for the settings and it skips the name of the root class. By default the name of the main class is not used because if you want to have multiple configurations you can give them different names by providing additional properties via the <code class="ic">SettingNameAttribute</code> class:</p>
        <pre><code class="code">[SmartConfig]
[SettingName(&quot;MyApp&quot;)]
static class ExampleDbConfig
{
    // ...
}        </code></pre>
    <p class="p">In this case SmartConfig would generate names like <span class="b">MyApp.Greeting</span>. You can use the <code class="ic">SettingNameAttribute</code> on any subclass or property to change its name.</p>
    <p class="p">It's time to load the settings from the database. This is as simple as loading an <code class="ic">App.config</code>. You just need to specify the connection string and the name of the setting table:</p>
        <pre><code class="code">Configuration
    .Load(typeof(ExampleDbConfig))
    .From(new SqlServerStore(
        ExampleAppConfig.connectionString,
        ExampleAppConfig.SettingsTableName));        </code></pre>
    <p class="p">And that's it!</p>
        <pre><code class="code">Console.WriteLine(ExampleDbConfig.Greeting); // outputs: Hallo SmartConfig!        </code></pre>
        
        <p class="p"><span class="i">This README is powered by <a href="https://github.com/he-dev/LessThenStyle.NET" class="link">LessThenStyle.NET</a></span></p>
</div>
      
    

  <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/he-dev/SmartConfig">SmartConfig</a> is maintained by <a href="https://github.com/he-dev">he-dev</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>
      
      </section>
  </body>
</html>

